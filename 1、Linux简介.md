# Linux 简介

[TOC]

文档：[link](http://c.biancheng.net/view/705.html)

## 0. Linux操作系统

`Linux` 在服务器上的应用非常广泛，可以用来搭建 **Web 服务器、数据库服务器、负载均衡服务器（CDN）、邮件服务器、DNS服务器、反向代理服务器、VPN服务器、路由器**等。用 Linux 作为服务器系统不但非常高效和稳定

### 操作系统	

`Linux`是众多操作系统之一，要想知道Linux是什么，首先得先了解什么是操作系统。

操作系统(OS)是软件的一部分，它是硬件基础上的第一层软件。是硬件和其他软件沟通的桥梁。

操作系统会控制其他程序运行、管理系统资源、提供最基本的计算功能，如管理及配置内存、决定系统资源供需的优先次序等，同时还提供一些基本的服务程序，例如：

#### 文件系统

提供计算机存储信息的结构，信息存储在文件中，文件主要存储在计算机的内部硬盘里，在目录的分层结构中组织文件。文件系统为操作系统提供了组织管理数据的方式。

#### 设备驱动程序

提供连接计算机的每个硬件设备的接口，设备驱动器使程序能够写入设备，而不需要了解执行每个硬件的细节。简单来说，就是让你能吃到鸡蛋，但不用养一只鸡。

#### 用户接口

操作系统需要为用户提供一种运行程序和访问文件系统的方法。如常用的 `Windows` 图形界面，可以理解为一种用户与操作系统交互的方式；智能手机的 `Android` 或 `iOS` 系统，也是一种操作系统的交互方式。

#### 系统服务程序

当计算机启动时，会自启动许多系统服务程序，执行安装文件系统、启动网络服务、运行预定任务等操作。

<img src="https://raw.githubusercontent.com/zjh-jixiaolin/map_strong/main/202302261842865.png" alt="image-20230226182614935"/>

#### 总结

1. 计算机由哪两主要部分组成？

   硬件和软件

2. 操作系统是什么？有什么作用？

   操作系统是软件的一类

   作用是协助用户调度硬件工作，充当用户和计算机硬件之间的桥梁

3. 常见的操作系统有哪些？

   `PC`端： `Windows、Linux、MacOS`

   移动端：`Android、IOS`、鸿蒙系统

4. 为什么使用`Linux`，而不使用`Windows`？

   `Windows`无疑是优秀的，但在安全性、高可用性与高性能方面却让人难以满意

5. 为什么`Linux`推荐使用终端界面，而不是图形化界面？

   在Linux发展之初，Linux的标志和特点就是它可以运行在处理能力较弱的老旧PC上 <br />
   图形化的弊端在于它们要占用相当一部分的资源系统来保证正常运行
   

> 总结：操作系统就如一个政府，其它软件会被它管控；操作系统在其它软件提供各种便利的同时，还会约束其它软件不能为所欲为。 

<br>

## 1. Linux初识

Linux内核：[link](https://www.kernel.org)

### Linux 目录结构

由于`Linux`发行版很多，如果任由每个人都按照自己的想法来配置`Linux`系统文件目录，会产生诸多管理问题。

为了避免使用者对`Linux`目录结构天马行空，`Linux`基金会发布了[FHS标准](https://baike.baidu.com/item/FHS/1501738)。

`Linux`的目录结构是一个树型结构。

`Linux`没有盘符这个概念，只有一个根目录`/`，所有文件都在它下面。

<img src="https://raw.githubusercontent.com/zjh-jixiaolin/map_strong/main/202302271502602.png" alt="image-20230227144549554" style="zoom:80%;" />

#### Linux路径的描述方式

- 在`Linux`系统中，路径之间的层级关系，使用`/`来表示

  例：`/usr/local/hello.txt`

- 在`Windows`系统中，路径之间的层级关系，使用`\`来表示

  例：`D\data\work\hello.txt`



#### Linux 根目录（/）

[FHS](https://baike.baidu.com/item/FHS/1501738)认为，`Linux`系统的根目录`/`最为重要，其原因有`2`点：

1. 所有目录都由根目录衍生出来的；
2. 根目录与系统的开机、修复、还原密切相关；

因此，根目录必须包含开机软件、核心文件、开机程序、函数库、修复系统程序等文件。

| 一级目录  |                         功能（作用）                         |
| :-------: | :----------------------------------------------------------: |
|  `/bin/`  | 存储**可执行二进制文件**。存放系统的基本命令和工具，这些文件通常是**系统启动**和运行的 **基本工具** 和 **命令**。如 `cat`、`ls`、`cp`、`mv` 等 |
|  `/usr/`  | 存储**系统级别的可选数据和程序**。包括应用程序、系统库文件、头文件、文档、资源文件等。它是 Linux 操作系统中的一个重要目录，用于提供系统的可选功能和应用程序。 |
|  `/dev/`  | 存储**设备文件**。包含系统中所有硬件设备和虚拟设备的设备文件。 |
|  `/etc/`  | 存储**系统配置文件**。包含用户信息文件、系统服务配置文件、网络配置文件、安全配置文件、启动配置文件等。 |
| `/home/ ` | 存储**普通用户的主目录**。包含每个用户的个人文件和目录，如用户配置文件.bashrc、.profile等。 |
|  `/mnt/`  | **手动挂载目录**。用于挂载其他设备或文件系统可以将其他设备（如 U 盘、CD-ROM、移动硬盘等）挂载到 `/mnt` 目录下的子目录中，以便在系统中访问这些设备中的文件和数据。 |
| `/boot/`  | **系统启动目录，保存与系统启动相关的文件**。包含启动 Linux 系统所需的核心文件和引导加载程序。 |
|  `/lib/`  | 存储 **系统共享库文件**。共享库包含了一些常用的函数和工具，可被多个程序共享使用。例Linux运行程序，python程序中常用的函数，如字符串操作、文件操作等，程序只需要链接这些共享文件，即可调用其中函数。 |
| `/media/` | **自动挂载目录**。用于挂载可移动设备和存储介质，例 USB 存储设备、光盘等等。当这些设备插入到计算机上时，系统会自动将其挂载到 `/media` 目录下的一个子目录中，用户可以在这个子目录中访问和操作存储介质中的文件和数据。 |
|  `/opt/`  | 存储 **可选的第三方应用程序和软件包**。帮助用户更好地管理和维护系统中的软件包，并保持系统的整洁和稳定。 |
| `/proc/`  | 存储 **系统在运行时的相关信息和统计数据**。如进程信息、系统内存信息、CPU 信息、文件系统信息等，例`/proc/cpuinfo`：包含CPU的信息、频率、缓存大小等。 |
| `/root/`  | **超级用户主目录**，存储 **root用户的个人文件和配置信息**。如shell 配置文件、日志文件、备份文件等。 |
|  `/run/`  | 存储 **Linux系统运行时的临时文件和信息**。如 PID 文件、锁文件、套接字文件、日志文件、运行时状态文件等。这些信息通常在系统重启时被清除。 |
| `/sbin/`  | 存储**系统管理员可执行二进制文件**。它包含了只有系统管理员（root 用户）才能够运行的系统管理程序和命令，因为它们通常涉及到对系统底层的配置和管理。 |
|  `/srv/`  | 存储**本地服务的数据和文件**。该目录通常用于存放一些服务程序的数据文件，例如 Web 服务器、FTP 服务器、数据库服务器等。 |
|  `/sys/`  | 存储 **内核的运行状态和配置信息**。虚拟文件系统目录，包含有关系统硬件和内核的信息。 |
|  `/tmp/`  | 存储 **临时文件和临时目录**。它是一个公共目录。许多应用程序和系统服务都需要使用临时文件或临时目录来存储一些临时数据，例如缓存文件、日志文件、进程间通信的文件等等。这些临时文件通常只在程序运行期间存在，并在程序退出后被自动删除。 |
|  `/var/`  | 存储 **可变数据** 的目录，包括系统日志、邮件、数据库、缓存、打印队列等等。它是一个动态目录，用于存放系统运行时产生的数据和文件。 |

[FHS](https://baike.baidu.com/item/FHS/1501738)针对根目录中包含的子目录仅限上表，但除此之外，`Linux`系统根目录下通常还包含下表几个一级目录。

|    一级目录    |                         功能（作用）                         |
| :------------: | :----------------------------------------------------------: |
| `/lost+found/` | 当系统意外崩溃或意外关机时，产生的一些文件碎片会存放在这里。在系统启动的过程中，fsck 工具会检查这里，并修复已经损坏的文件系统。这个目录只在每个分区中出现，例如，/lost+found 就是根分区的备份恢复目录，/boot/lost+found 就是 /boot 分区的备份恢复目录 |
|    `/proc/`    | 虚拟文件系统。该目录中的数据并不保存在硬盘上，而是保存到内存中。主要保存系统的内核、进程、外部设备状态和网络状态等。如 /proc/cpuinfo 是保存 CPU 信息的，/proc/devices 是保存设备驱动的列表的，/proc/filesystems 是保存文件系统列表的，/proc/net 是保存网络协议信息的...... |
|    `/sys/`     | 虚拟文件系统。和 /proc/ 目录相似，该目录中的数据都保存在内存中，主要保存与内核相关的信息 |

#### Linux /usr 目录

`usr`，全称为`Unix Software Resource（Unix软件资源）`，此目录用于存储`系统软件资源`。[FHS](https://baike.baidu.com/item/FHS/1501738)建议所有开发者，应把软件产品的数据合理的放置`/usr`目录下的各子目录中，而不是为他们的产品创建单独的目录。

<br>

Linux系统中，所有系统默认的软件都存储在`/usr`目录下，`/usr`目录类似`Windows`系统中`C:\Windows\ + C:\program files\`两个目录的综合体。

[FHS](https://baike.baidu.com/item/FHS/1501738) 建议，`/usr`目录应具备下图的子目录。

|     子目录     |                         功能（作用）                         |
| :------------: | :----------------------------------------------------------: |
|  `/usr/bin/`   | **存放系统目录**，普通用户和超级用户都可以执行。这些命令和系统启动无关，在单用户模式下不能执行。 |
| `/usr/sbin/ `  | **存放根文件系统不必要的系统管理命令**，如多数服务程序，只有`root`可以使用。 |
|  `/usr/lib/`   |              **应用程序调用的函数库保存位置**。              |
|  `/usr/local`  |  **手工安装软件保存位置**，如帮助文档、说明文档和字体目录。  |
|  `/usr/share`  | **应用程序的资源文件保存位置**，如帮助文档、说明文档和字体目录。 |
|  `/usr/src/`   | **源码包保存位置**。我们手工下载的源码包和内核源码包都可以保存到这里。不过笔者更习惯把手工下载的源码包保存到 `/usr/local/src/` 目录中，把内核源码保存到 `/usr/src/linux/` 目录中。 |
| `/usr/include` | `C/`[C++](http://c.biancheng.net/cplus/) 等编程语言头文件的放置目录。 |



#### Linux /var 目录

`/var`目录用于存储动态数据，例如缓存、日志文件、软件运行过程中产生的文件等。通常，此目录下建议包含如下图的子目录。

|     /var子目录      |                         功能（作用）                         |
| :-----------------: | :----------------------------------------------------------: |
|     `/var/lib/`     | **程序运行中需要调用和改变的数据保存位置**。如 [MySQL](http://c.biancheng.net/mysql/) 的数据库保存在 `/var/lib/mysql/` 目录中 |
|     `/var/log/`     | **登陆文件放置的目录**，其中所包含比较重要的文件如 `/var/log/messages`, `/var/log/wtmp` 等。 |
|     `/var/run/`     |    一些服务和程序运行后，它们的 `PID（进程 ID）`保存位置     |
|    `/var/spool/`    | 里面主要都是一些临时存放，随时会被用户所调用的数据，例如 `/var/spool/mail/` 存放新收到的邮件，`/var/spool/cron/` 存放系统定时任务。 |
|     `/var/www/`     |             `RPM` 包安装的`Apache` 的网页主目录              |
| `/var/nis和/var/yp` | `NIS` 服务机制所使用的目录，`nis` 主要记录所有网络中每一个 `client` 的连接信息；`yp` 是 `linux` 的 `nis` 服务的日志文件存放的目录 |
|     `/var/tmp`      | 一些应用程序在安装或执行时，需要在重启后使用的某些文件，此目录能将该类文件暂时存放起来，完成后再行删除 |



#### 总结

1. `Linux`的诞生？

   Linux由林纳斯 托瓦慈（Linus）在`1991`年创立并发展至今成为服务器操作系统领域的核心系统。

   <img src="https://raw.githubusercontent.com/zjh-jixiaolin/map_strong/main/202302271357350.png" alt="image-20230227135744683" style="zoom:80%;" />

   

2. 什么是Linux系统的内核和系统级应用程序？

   内核提供了`Linux`系统的主要功能，如调度`CPU`、调度内存、调度文件系统、调度网络通讯、调度IO等能力。`Linux`内核是免费开源的，任何人都可以查看内核的源代码，甚至是贡献源代码。

   系统级应用程序，可以理解为出厂自带程序，可供用户快速上手操作系统。如文件管理器、任务管理器、图片查看、音乐播放等。

   >比如，播放音乐，无论用户使用自带的音乐播放器还是第三方软件，均是由播放器程序，调用内核提供的相关功能，由内核调度 `CPU` 解码、音响发声等。

   ![image-20230423234244189](https://raw.githubusercontent.com/zjh-jixiaolin/map_strong/main/202304232342003.png)

   

3. 什么是Linux系统发行版？

   内核 + 系统级程序的完整封装，称之为`Linux`发行版

   内核无法被用户直接使用，需要配合应用程序才能被用户使用。<br \>

   在内核之上，封装系统级应用程序，组合在一起就称之为`Linux`发行版

   ![image-20230227140941762](https://raw.githubusercontent.com/zjh-jixiaolin/map_strong/main/202302271409535.png)

   ![image-20230227141038953](https://raw.githubusercontent.com/zjh-jixiaolin/map_strong/main/202302271410184.png)

   
