# Linux 基础命令

[TOC]

文档：[link](http://c.biancheng.net/view/705.html)

## 命令提示符

登录系统后，映入眼帘的内容是 

```bash
[root@localhost ~]#
```
- `[]`：提示符的分隔符号，无特殊含义。
- `root`：显示为 **当前的登录用户**，现在是root用户登录。

- `@`：分隔符号，无特殊含义。
- `localhost`：当前系统的 **简写主机名**（完整主机名为 localhost.localdomain）。
- `~`：代表**当前用户家目录**，在这表示用户当前所在的目录是家目录。
- `#`：**命令提示符**，此符号为标识登录用户的权限等级。如为超级用户，则提示符为`#`，如为普通用户，提示符为`$`。

## 命令基础格式

无论什么命令，在 Linux 中命令的通用格式：

```bash
[root@localhost ~]# 命令 [选项] [参数]
```

- 命令格式中的 `[]`代表可选，有些命令可以不写选项和参数，也能执行。
- 选项的作用：命令不添加选项，只能执行最基本的功能，指定选项能使用扩展功能。
- 参数的作用：参数是命令的操作对象，指定了要操作的一般文件、目录、用户和进程等。

## ls 命令

功能：显示当前目录下的内容。

语法：`ls [-l -a -h] [参数]`

参数：指定要查看的文件夹。如不提供参数，表示查看当前工作目录。

| 选项 | 功能                                                         |
| ---- | ------------------------------------------------------------ |
| `-a` | 显示全部的文件，包括隐藏文件                                 |
| `-l` | 以列表形式查看文件和目录信息                                 |
| `-h` | 以人们易读的方式显示文件或目录大小，如 `1KB`、`234MB`、`2GB` 等。 |
| `-n` | 以 `UID` 和 `GID` 分别代替文件用户名和群组名显示出来。       |
| `-R` | 连同子目录内容一起列出来，等于将该目录下的所有文件都显示出来。 |
| `-t` | 以时间排序，而不是文件名排序                                 |

### 隐藏文件、文件夹

在Linux中以`.`开头的，均是隐藏的文件。

默认不显示出来，需要`-a`选项才可查看到。

隐藏文件是重要文件。

## pwd 命令

功能：`Print Working Directory（打印工作目录）`，从根目录开始展示当前工作目录。

语法：`pwd`

## cd 命令

功能：切换工作目录。

语法：`cd [目标目录]`

参数：目标目录，要切换去的地方，不提供默认切换到`当前登录用户HOME目录`。

| 特殊符号 | 作用                 |
| -------- | -------------------- |
| `~`      | 当前登录用户的主目录 |
| `-`      | 上次所在目录         |
| `.`      | 当前目录             |
| `..`     | 上级目录             |

### 相对路径和绝对路径

相对路径：从当前所在工作目录写起，相对路径通常使用`.`代表当前目录，`..`代表上级目录。

绝对路径：从根目录`/`写起，例 `/usr/bin`。

## mkdir 命令

功能：创建目录

语法：`mkdir [-p] 参数`

- 参数：被创建目录的路径。
- 选项：`-p`，可选，表示递归创建。

| 特殊符号 | 作用                                         |
| -------- | -------------------------------------------- |
| `-m`     | 手动配置所创建目录的权限，而不再使用默认权限 |
| `-p`     | 递归创建所有目录                             |

## touch 命令

功能：创建文件 及 修改文件或目录时间戳

语法：`touch [选项] [参数]`

参数：被创建的文件或需操作的文件

在 Linux 系统中，每个文件主要拥有 `3`个时间参数（通过`stat`命令查看），分别为访问时间、数据修改时间、状态修改时间：

- 访问时间（`Access Time`）：只要文件内容被读取，访问时间就会被更新。例使用`cat`命令查看文件的内容，此时就会发生改变。
- 数据修改时间（`Modify Time`）：当文件内容数据发生改变，此文件的数据修改时间就会跟着相应改变。
- 状态修改时间（`Change Time`）：当文件的状态发生改变，如文件的权限或属性发生改变，此时时间就会改变。

| 特殊符号 | 作用                                                         |
| -------- | ------------------------------------------------------------ |
| `-a`     | 只修改文件的访问时间（`atime`）。                            |
| `-m`     | 只修改文件的数据修改时间（`mtime`）。                        |
| `-d`     | 后面可以跟欲修订的时间，而不用当前日期。即把`atime` 和 `mtime`时间修改为指定时间。 |
| `-c`     | 仅修改文件的时间参数（3 个时间参数都改变），如果文件不存在，则不建立新文件。 |
| `-t`     | 命令后面可以跟欲修订的时间，而不用目前的时间，时间书写格式为 `YYMMDDhhmm`。例：`202303151750` |

## cat 命令

功能：查看文件内容。

语法：`cat 参数`

- 参数：被查看的文件路径。

## cp 命令

功能：复制文件、文件夹。

语法：`cp [-r] 参数1 参数2`

- 参数1，被复制的。
- 参数2，要复制去的地方。
- 选项：-r，可选，递归复制，复制文件夹使用。

| 特殊符号 | 作用                                                         |
| -------- | ------------------------------------------------------------ |
| `-a`     | 相当于`-d、-p、-r` 选项的集合。                              |
| `-d`     | 如果源文件为软链接（对硬链接无效），则复制出的目标文件也为软链接。 |
| `-p`     | 复制后目标文件保留源文件的属性（包括所有者、所属组、权限和时间）。 |
| `-r`     | 递归复制，用于复制目录。                                     |
| `-u`     | 若目标文件比源文件有差异，则使用该选项可以更新目标文件，此选项可用于对文件的升级和备用。 |

## rm 命令

功能：删除文件、文件夹。

语法：`rm [-r -f] 参数...参数`

- 参数：支持多个，每一个表示被删除的，空格进行分隔。
- 选项：-r，删除文件夹使用。
- 选项：-f，强制删除，不会给出确认提示，一般root用户会用到。

> rm命令很危险，一定要注意，特别是切换到root用户的时候。

## mv 命令

功能：移动或重命名文件、目录。

语法：`mv [-f] 参数1 参数2`

- 参数1：被移动的。
- 参数2：要移动去的地方，参数2如果不存在，则会进行改名。
- 选项：`-f`，表示强制覆盖，如果目标文件已存在，则不询问，直接强制覆盖。

| 特殊符号 | 作用                                                         |
| -------- | ------------------------------------------------------------ |
| `-f`     | 强制覆盖，如果目标文件已经存在，则不询问，直接强制覆盖。     |
| `-i`     | 交互移动，如果目标文件已经存在，则询问用户是否覆盖（默认选项）。 |
| `-n`     | 如果目标文件已经存在，则不会覆盖移动，而且不询问用户。       |
| `-v`     | 显示文件或目录的移动过程。                                   |

>同 rm 命令类似，mv 命令也是一个具有破坏性的命令，如果使用不当，很可能给系统带来灾难性的后果。

## which 命令

功能：查看命令的程序本体文件路径。

语法：`which 参数`

- 参数：被查看的命令。

## find 命令

功能：搜索文件。

语法：`find 路径 -name 参数`

- 路径：搜索的起始路径。
- 参数：搜索的关键字，支持通配符*。

方式：

1. `find`命令 - 按**文件名**查找文件：
   - 语法格式：`find 起始路径 -name "被查找文件名"`
   - 例：`find / -name "test"`
   
2. `find`命令 - **通配符**：
   - 符号`*`表示通配符，即匹配任意内容。
   
   - 语法格式：`find 起始路径 -name "被查找文件名"`
   - `test*`，表示匹配任何以`test` **开头**的内容。
   - `*test`，表示匹配任何以`test` **结尾**的内容。
   - `*test*`，表示匹配任何 **包含** `test`的内容。
   
3. `find`命令 - 按**文件大小**查找文件：
   - `+ -` 代表大于和小于。
   - `n`  表示大小数字。
   - `kMG` 表示大小单位，`k`（小写字母）表示`kb`，`M`表示`MB`，`G`表示`GB`。
   - 查找小于`10KB`的文件：`find / -size -10k`。
   - 查找大于`100MB`的文件：`find / -size +100M`。
   - 查找等于`1GB` 的文件：`find / -size 1G`。

## greg 命令

功能：从文件中通过**关键字过滤**文件行。

语法：`grep [-n] 关键字 文件路径`

- 选项： `-n`，可选，表示在结果中显示匹配的行的行号。
- 参数：关键字，必填，表示**过滤的关键字**。带有空格或其他特殊符号，建议使用`""`将关键字包围起来。
- 参数：文件路径，必填，表示要过滤内容的**文件路径**。可作为管道符的输入。

>参数文件路径，可作为管道符输入。

## wc 命令

功能：统计文件的 **行数、单词数量、字节数、字符数**等。

语法： `wc [-c -m -l -w] 文件路径`

- 不带选项默认统计：行数、单词数、字节数。
- 参数，文件路径，被统计的文件，可作为管道符的输入。

| 特殊符号 | 作用          |
| -------- | ------------- |
| `-c`     | 统计bytes数量 |
| `-m`     | 统计字符数量  |
| `-l`     | 统计行数      |
| `-w`     | 统计单词数量  |

>参数文件路径，可作为管道符输入。

## 管道符 | 

写法：`|`

功能：将符号**左边的结果**，作为符号**右边的输入**。

`cat a.txt | grep a`，将`cat a.txt`的结果，作为`grep`命令的输入，用来过滤`a`关键字。

支持嵌套:

`cat a.txt | grep itheima | grep itcast`

## 重定向符

`>`：将左侧命令的结果，**覆盖**写入到符号右侧指定的文件中。

`>>`：将左侧命令的结果，**追加**写入到符号右侧指定的文件中。

## echo 命令

功能：在命令行**输出指定内容**。

语法：`echo 参数`

- 参数：表示要输出的内容，用`" "`包围。

### `反引号符

- 被 ` 包围的内容，会被作为**命令执行**，而非普通字符。

  ```bash
  [root@localhost zjh]# echo `ls`
  > test  test2.py  test.py
  ```



## tail 命令

功能：查看文件**尾部内容**，**跟踪**文件的最新更改。

语法：`tail [-f -num] 参数`

- 参数：Linux路径，表示被跟踪的文件路径。
- 选项：`-f`，表示持续追踪。例子：
- 选项：`-num`，表示查看尾部多少行，默认为`10`行。例：查看前5行（`tail -5 /home/zjh/test.txt`）。



## vim 编辑器

`vim`文本编辑器是`vi`的加强版本，兼容 `vi `的所有指令，不仅能编辑文本，而且还具有 `shell` 程序编辑的功能，正则表达式的查找、多窗口的编辑、可以不同颜色的字体来辨别语法的正确性，极大方便了程序的设计和编辑性。

三种模式：

1. **命令模式**
2. **输入模式**
3. **编辑模式**

### 命令模式快捷键

| 命令             | 描述                                  |
| ---------------- | ------------------------------------- |
| `i`              | 在当前**光标位置**进入**输入**模式    |
| `I`              | 在当前**行的开头**进入**输入**模式    |
| `A`              | 在当前**行的结尾**进入**输入**模式    |
| `ESC`            | 任何情况下输入`ESC`退回到**命令模式** |
| `pageup(PgUp)`   | **向上翻页**                          |
| `pagedown(PgDn)` | **向下翻页**                          |
| `/`              | 进入**搜索**模式                      |

| 命令       | 描述                                      |
| ---------- | ----------------------------------------- |
| `dd`       | **删除**光标**所在行**的内容              |
| `ndd`      | n 是数字，表示**删除**当前光标**向下n行** |
| `yy`       | **复制**当前行                            |
| `nyy`      | n是数字，**复制**当前行和**下面n行**      |
| `p`        | **粘贴**复制的内容                        |
| `u`        | **撤销修改**                              |
| `ctrl + r` | **反向撤销修改**                          |

| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| `gg`  | **跳到首行**                           |
| `G`   | **跳到行尾**                           |
| `dgg` | 从**当前行**开始，**向上**全部**删除** |
| `dG`  | 从**当前行**开始，**向下**全部**删除** |

### 编辑模式快捷键

| 命令      | 描述           |
| --------- | -------------- |
| `:wq`     | 保存并退出     |
| `:wq!`    | 强制保存并退出 |
| `:q`      | 仅退出         |
| `:q!`     | 强制退出       |
| `:set nu` | **显示行号**   |

### 多窗口编辑模式

| 命令             | 描述                   |
| ---------------- | ---------------------- |
| `:sp/etc/shadow` | **水平切分窗口**       |
| `:vs/etc/shadow` | **垂直切分窗口**       |
| `Ctrl+WW`        | 切换到另一文件窗口操作 |













